# Heap

## 설명

- 데이터에서 최대값과 최소값을 빠르게 찾기 위해 고안된 완전 이진 트리
  - 완전 이진 트리 : 노드를 삽입할 때 제일 아래에 위치하는 왼쪽 노드부터 순서대로 삽입하는 트리
- 힙 트리에서는 중복된 값을 허용한다. (이진 탐색 트리에서는 허용하지 않음)

## 힙과 이진 탐색 트리의 공통점과 차이점

- 공통점 : 힙과 이진 탐색 트리는 모두 이진 트리 구조를 갖는다.
- 차이점 :
  - 힙은 각 노드의 값이 자식 노드보다 크거나 같다.(max heap의 경우)
  - 이진 탐색 트리는 왼쪽 자식 노드의 값이 가장 작고, 그 다음 부모 노드, 그 다음 오른쪽 자식 노드 값이 가장 크다.
  - 힙은 이진 탐색 트리의 조건인 자식 노드에서 작은 값은 왼쪽, 큰 값은 오른쪽에 위치해야 한다는 조건은 없다.
- 이진 탐색 트리는 탐색을 위한 구조, 힙은 최대/최소값을 검색하기 위한 구조 중 하나로 생각하면 된다.

## 힙의 종류

1. 최대 힙(max heap)
   - 부모 노드의 값이 자식 노드의 값보다 크거나 같은 완전 이진 트리
2. 최소 힙(min heap)
   - 부모 노드의 값이 자식 노드의 값보다 작거나 같은 완전 이진 트리

## 방법 (max heap 기준)

- 힙을 저장하기 위해 <strong>배열</strong>을 사용한다.

  > - 루트 노드의 인덱스 -> 1
  > - 왼쪽 자식 노드의 인덱스 -> 부모 노드의 인덱스 \* 2
  > - 오른쪽 자식 노드의 인덱스 -> 부모 노드의 인덱스 \* 2 + 1

- 데이터 삽입

  1. 데이터를 배열의 맨 마지막에 넣는다.
  2. 부모 노드부터 시작해서 삽입한 데이터와 크기를 비교한다. 삽입한 데이터의 크기가 더 크다면 부모 노드와 삽입한 데이터 노드의 위치를 바꾼다.

- 데이터 삭제
  1. 최대 힙에서 루트 노드를 삭제한다. (루트 노드가 가장 큰 값이기 때문에)
  2. 배열의 맨 마지막 요소를 루트로 가져온다.
  3. 루트에서부터 시작해서 자식 요소들과 값을 비교해서 큰 값과 배열의 맨 마지막 요소를 변경한다.

## 시간 복잡도

- 힙 트리의 깊이를 기준으로 탐색하기 때문에, 데이터 삭제 또는 삽입시에 절반이 검색 리스트에서 삭제 된다. 그렇기에 검색 시간이 50%씩 단축된다.
- 최악의 경우 root에서 leaf까지 검색해야 하기 때문에, 깊이가 log<sub>2</sub><sup>n</sup>이 된다.
- O(log<sub>2</sub><sup>n</sup>)
